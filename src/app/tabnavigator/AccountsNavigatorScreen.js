import React from 'react';
import { createMaterialTopTabNavigator } from '@react-navigation/material-top-tabs'
import AllInvoices from './accountsNavigator/AllInvoices';
import PendingInvoices from './accountsNavigator/PendingInvoices';
import StatusBarType from '../components/StatusBarType';
import { StatusBar, View, Text } from 'react-native';

import Svg, { Defs, Pattern, LinearGradient, Stop } from 'react-native-svg';
import { Path as SvgPath } from 'react-native-svg';
const DiagTopTab = createMaterialTopTabNavigator();
const INITAL_ROUTE_NAME = 'PendingInvoives';

export default function AccountsNavigatorScreen({ navigation, route }) {
    const [isLoading, setIsLoading] = React.useState(true);
    navigation.setOptions({ headerTitle: getHeaderTitle(route) });

    React.useEffect(() => {
        setTimeout(() => {
            setIsLoading(false);
        }, 50);
    }, []);


    if (isLoading) {
        return <View style={{ flex: 1, justifyContent: "center", alignItems: "center" }}>
            <Text>Loading.....</Text>
        </View>
    }
    return (
        <View style={{ height: '100%', width: '100%', flex: 1, flexDirection: 'column' }}>
            <StatusBarType />
            {/* <Header title="My Appointments" /> */}
            <DiagTopTab.Navigator initialRouteName={INITAL_ROUTE_NAME}
                screenOptions={({ route }) => ({
                    tabBarIcon: ({ focused, color, size }) => {
                        let iconName;

                        if (route.name === 'PendingInvoives') {
                            iconName = focused ? <Svg viewBox="0 0 512 512" height={22} width={22} fill={color} fillRule="nonzero">
                                <SvgPath d="M466.949 211.243c8.284 0 15-6.716 15-15V75.525c0-41.498-33.719-75.524-75.564-75.524L105.034 0C63.688 0 30.051 33.638 30.051 74.984V496.73c0 13.433 16.504 20.117 25.834 10.374l19.19-20.04 20.271 20.272c5.858 5.857 15.354 5.857 21.212.002l19.209-19.203 19.406 19.245c5.847 5.797 15.276 5.799 21.124.002l19.712-19.544 19.72 19.545c5.843 5.794 15.262 5.795 21.11.009l25.263-24.999C285.213 500.908 314.514 512 346.362 512c74.439 0 135-60.561 135-135 0-69.528-52.835-126.941-120.463-134.215v-31.542zm-15-135.718v105.718h-91.05V75.525c0-25.103 20.422-45.525 45.525-45.525 25.102 0 45.525 20.422 45.525 45.525zM226.297 475.619l-19.73-19.555c-5.848-5.797-15.273-5.794-21.12.001l-19.708 19.541-19.45-19.289c-5.865-5.816-15.327-5.798-21.167.042l-19.165 19.159-20.507-20.506c-6.129-6.129-15.782-5.677-21.441.232l-3.958 4.133V74.984C60.051 50.18 80.23 30 105.034 30H346.21c-9.602 12.668-15.311 28.44-15.311 45.525v167.366c-105.278 12.061-155.901 135.88-90.001 218.281zM451.362 377c0 57.897-47.103 105-105 105s-105-47.103-105-105 47.103-105 105-105 105 47.103 105 105z" />
                                <SvgPath d="M336.362 335.362V366H306c-8.284 0-15 6.716-15 15s6.716 15 15 15h45.362c8.284 0 15-6.716 15-15v-45.638c0-8.284-6.716-15-15-15s-15 6.716-15 15zM222.706 136.54c-14.351-11.184-33.076-12.92-37.258-20.47-1.476-2.665.097-7.054 3.3-9.208 4.558-3.065 14.309-1.857 17.735 1.303 6.09 5.618 15.58 5.233 21.196-.856 5.617-6.09 5.233-15.58-.856-21.196-4.66-4.298-10.571-7.365-16.961-9.155v-1.237c0-8.284-6.716-15-15-15s-15 6.716-15 15v2.241c-21.803 8.17-31.168 33.666-20.657 52.644 7.365 13.296 20.287 18.399 30.669 22.5 8.221 3.246 20.329 7.7 19.328 16.681-.478 4.282-3.716 8.531-8.059 10.574-6.194 2.914-18.648 1.113-26.126-3.779-6.932-4.534-16.23-2.591-20.764 4.341-4.535 6.933-2.591 16.229 4.341 20.764 5.828 3.813 13.28 6.888 21.268 8.6v1.908c0 8.284 6.716 15 15 15s15-6.716 15-15v-3.061c30.275-10.488 41.388-50.351 12.844-72.594zM180.999 256.08h-75c-8.284 0-15 6.716-15 15s6.716 15 15 15h75c8.284 0 15-6.716 15-15s-6.716-15-15-15zM180.999 316.18h-75.05c-8.284 0-15 6.716-15 15s6.716 15 15 15h75.05c8.284 0 15-6.716 15-15s-6.716-15-15-15zM180.999 376.08h-75.1c-8.284 0-15 6.716-15 15s6.716 15 15 15h75.1c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                            </Svg> : <Svg viewBox="0 0 512 512" height={22} width={22} fill={color} fillRule="nonzero">
                                    <SvgPath d="M466.949 211.243c8.284 0 15-6.716 15-15V75.525c0-41.498-33.719-75.524-75.564-75.524L105.034 0C63.688 0 30.051 33.638 30.051 74.984V496.73c0 13.433 16.504 20.117 25.834 10.374l19.19-20.04 20.271 20.272c5.858 5.857 15.354 5.857 21.212.002l19.209-19.203 19.406 19.245c5.847 5.797 15.276 5.799 21.124.002l19.712-19.544 19.72 19.545c5.843 5.794 15.262 5.795 21.11.009l25.263-24.999C285.213 500.908 314.514 512 346.362 512c74.439 0 135-60.561 135-135 0-69.528-52.835-126.941-120.463-134.215v-31.542zm-15-135.718v105.718h-91.05V75.525c0-25.103 20.422-45.525 45.525-45.525 25.102 0 45.525 20.422 45.525 45.525zM226.297 475.619l-19.73-19.555c-5.848-5.797-15.273-5.794-21.12.001l-19.708 19.541-19.45-19.289c-5.865-5.816-15.327-5.798-21.167.042l-19.165 19.159-20.507-20.506c-6.129-6.129-15.782-5.677-21.441.232l-3.958 4.133V74.984C60.051 50.18 80.23 30 105.034 30H346.21c-9.602 12.668-15.311 28.44-15.311 45.525v167.366c-105.278 12.061-155.901 135.88-90.001 218.281zM451.362 377c0 57.897-47.103 105-105 105s-105-47.103-105-105 47.103-105 105-105 105 47.103 105 105z" />
                                    <SvgPath d="M336.362 335.362V366H306c-8.284 0-15 6.716-15 15s6.716 15 15 15h45.362c8.284 0 15-6.716 15-15v-45.638c0-8.284-6.716-15-15-15s-15 6.716-15 15zM222.706 136.54c-14.351-11.184-33.076-12.92-37.258-20.47-1.476-2.665.097-7.054 3.3-9.208 4.558-3.065 14.309-1.857 17.735 1.303 6.09 5.618 15.58 5.233 21.196-.856 5.617-6.09 5.233-15.58-.856-21.196-4.66-4.298-10.571-7.365-16.961-9.155v-1.237c0-8.284-6.716-15-15-15s-15 6.716-15 15v2.241c-21.803 8.17-31.168 33.666-20.657 52.644 7.365 13.296 20.287 18.399 30.669 22.5 8.221 3.246 20.329 7.7 19.328 16.681-.478 4.282-3.716 8.531-8.059 10.574-6.194 2.914-18.648 1.113-26.126-3.779-6.932-4.534-16.23-2.591-20.764 4.341-4.535 6.933-2.591 16.229 4.341 20.764 5.828 3.813 13.28 6.888 21.268 8.6v1.908c0 8.284 6.716 15 15 15s15-6.716 15-15v-3.061c30.275-10.488 41.388-50.351 12.844-72.594zM180.999 256.08h-75c-8.284 0-15 6.716-15 15s6.716 15 15 15h75c8.284 0 15-6.716 15-15s-6.716-15-15-15zM180.999 316.18h-75.05c-8.284 0-15 6.716-15 15s6.716 15 15 15h75.05c8.284 0 15-6.716 15-15s-6.716-15-15-15zM180.999 376.08h-75.1c-8.284 0-15 6.716-15 15s6.716 15 15 15h75.1c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                                </Svg>;
                        } else if (route.name === 'AllInvoices') {
                            iconName = focused ? <Svg viewBox="0 0 512 512" height={22} width={22} fill={color} fillRule="nonzero">
                                <SvgPath d="M285.889 146.854a383.21 383.21 0 01-6.997-2.542v-39.826c5.207 1.42 7.86 4.044 8.044 4.233 3.633 4.125 9.921 4.544 14.072.93 4.165-3.628 4.6-9.944.972-14.108-3.784-4.344-11.753-9.821-23.088-11.473V77c0-5.522-4.477-10-10-10s-10 4.478-10 10v8.229a63.458 63.458 0 00-3.148.852c-13.034 3.927-22.771 15.067-25.411 29.076-2.414 12.812 1.716 25.186 10.779 32.294 4.555 3.573 10.171 6.847 17.779 10.278v50.783c-6.198-.616-10.442-2.352-17.418-6.915-4.622-3.026-10.819-1.728-13.843 2.894-3.023 4.622-1.728 10.82 2.895 13.843 11.076 7.246 18.763 9.578 28.366 10.245V237c0 5.522 4.477 10 10 10s10-4.478 10-10v-9.323c19.01-4.322 31.214-20.335 33.869-36.129 3.394-20.181-7.154-37.724-26.871-44.694zm-32.433-15.139c-3.117-2.445-4.479-7.49-3.468-12.854.85-4.51 3.627-9.848 8.905-12.566v29.03c-2.014-1.167-3.855-2.369-5.437-3.61zm39.582 56.516c-1.217 7.24-6.02 14.903-14.146 18.496v-41.134l.332.119c15.415 5.448 14.471 18.614 13.814 22.519zM76 122h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM76 182h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM76 242h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM296 272H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15zM296 332H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15zM296 392H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                                <SvgPath d="M502.904 303.684a15.004 15.004 0 00-15.549 1.058l-33.899 23.904-33.9-23.904a15.002 15.002 0 00-17.292.003L371 326.806V15a14.997 14.997 0 00-8.096-13.316 15.004 15.004 0 00-15.549 1.058l-33.899 23.904-33.898-23.905a15.004 15.004 0 00-17.293.003l-33.862 23.895-33.828-23.891a15 15 0 00-17.308 0l-33.819 23.888-33.83-23.889a15.003 15.003 0 00-17.305 0l-33.831 23.89-33.83-23.89A15 15 0 001 15v402c0 52.383 42.617 95 95 95h330c46.869 0 85-38.131 85-85V317a14.997 14.997 0 00-8.096-13.316zM31 417V43.956l18.83 13.297a15.004 15.004 0 0017.306 0l33.83-23.89 33.832 23.89a14.999 14.999 0 0017.307-.001l33.818-23.888 33.823 23.888a15.005 15.005 0 0017.302.004l33.869-23.899 33.896 23.902a15.004 15.004 0 0017.289 0L341 43.932V427c0 20.962 7.643 40.163 20.269 55H96c-35.841 0-65-29.159-65-65zm450 10c0 30.327-24.673 55-55 55s-55-24.673-55-55v-65.227a14.973 14.973 0 006.047-2.518l33.869-23.899 33.896 23.902a15.004 15.004 0 0017.289 0L481 345.932z" />
                            </Svg> : <Svg viewBox="0 0 512 512" height={22} width={22} fill={color} fillRule="nonzero">
                                    <SvgPath d="M285.889 146.854a383.21 383.21 0 01-6.997-2.542v-39.826c5.207 1.42 7.86 4.044 8.044 4.233 3.633 4.125 9.921 4.544 14.072.93 4.165-3.628 4.6-9.944.972-14.108-3.784-4.344-11.753-9.821-23.088-11.473V77c0-5.522-4.477-10-10-10s-10 4.478-10 10v8.229a63.458 63.458 0 00-3.148.852c-13.034 3.927-22.771 15.067-25.411 29.076-2.414 12.812 1.716 25.186 10.779 32.294 4.555 3.573 10.171 6.847 17.779 10.278v50.783c-6.198-.616-10.442-2.352-17.418-6.915-4.622-3.026-10.819-1.728-13.843 2.894-3.023 4.622-1.728 10.82 2.895 13.843 11.076 7.246 18.763 9.578 28.366 10.245V237c0 5.522 4.477 10 10 10s10-4.478 10-10v-9.323c19.01-4.322 31.214-20.335 33.869-36.129 3.394-20.181-7.154-37.724-26.871-44.694zm-32.433-15.139c-3.117-2.445-4.479-7.49-3.468-12.854.85-4.51 3.627-9.848 8.905-12.566v29.03c-2.014-1.167-3.855-2.369-5.437-3.61zm39.582 56.516c-1.217 7.24-6.02 14.903-14.146 18.496v-41.134l.332.119c15.415 5.448 14.471 18.614 13.814 22.519zM76 122h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM76 182h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM76 242h110c8.284 0 15-6.716 15-15s-6.716-15-15-15H76c-8.284 0-15 6.716-15 15s6.716 15 15 15zM296 272H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15zM296 332H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15zM296 392H76c-8.284 0-15 6.716-15 15s6.716 15 15 15h220c8.284 0 15-6.716 15-15s-6.716-15-15-15z" />
                                    <SvgPath d="M502.904 303.684a15.004 15.004 0 00-15.549 1.058l-33.899 23.904-33.9-23.904a15.002 15.002 0 00-17.292.003L371 326.806V15a14.997 14.997 0 00-8.096-13.316 15.004 15.004 0 00-15.549 1.058l-33.899 23.904-33.898-23.905a15.004 15.004 0 00-17.293.003l-33.862 23.895-33.828-23.891a15 15 0 00-17.308 0l-33.819 23.888-33.83-23.889a15.003 15.003 0 00-17.305 0l-33.831 23.89-33.83-23.89A15 15 0 001 15v402c0 52.383 42.617 95 95 95h330c46.869 0 85-38.131 85-85V317a14.997 14.997 0 00-8.096-13.316zM31 417V43.956l18.83 13.297a15.004 15.004 0 0017.306 0l33.83-23.89 33.832 23.89a14.999 14.999 0 0017.307-.001l33.818-23.888 33.823 23.888a15.005 15.005 0 0017.302.004l33.869-23.899 33.896 23.902a15.004 15.004 0 0017.289 0L341 43.932V427c0 20.962 7.643 40.163 20.269 55H96c-35.841 0-65-29.159-65-65zm450 10c0 30.327-24.673 55-55 55s-55-24.673-55-55v-65.227a14.973 14.973 0 006.047-2.518l33.869-23.899 33.896 23.902a15.004 15.004 0 0017.289 0L481 345.932z" />
                                </Svg>;
                        }

                        // You can return any component that you like here!
                        return iconName;
                    },
                })}
                tabBarOptions={{
                    showIcon: true,
                    showLabel: true,
                    labelStyle: { fontSize: 11 },
                    style: {
                        height: 60,
                        backgroundColor: '#F3F3F3'
                    },
                    indicatorStyle: {
                        backgroundColor: 'tomato',
                        position: 'absolute'
                    },
                    activeTintColor: 'tomato',
                    inactiveTintColor: 'gray',
                }}
                tabBarPosition="top"
            // tabBarOptions={{
            //     showIcon: true,
            //     labelStyle: { fontSize: 13, color: '#838383' },
            //     style: { backgroundColor: '#F3F3F3' },
            //     pressColor: 'gray',
            //     indicatorStyle: {
            //         backgroundColor: '#665EFF',
            //         position: 'relative'
            //     }
            // }}
            // tabBarPosition="top"
            >
                <DiagTopTab.Screen
                    name="PendingInvoives"
                    component={PendingInvoices}
                    options={{
                        title: 'Pending Invoices',

                    }}
                />
                <DiagTopTab.Screen
                    name="AllInvoices"
                    component={AllInvoices}
                    options={{
                        title: 'All Invoices',

                    }}
                />


            </DiagTopTab.Navigator>
        </View>
    );
}

function getHeaderTitle(route) {
    const routeName = route.state?.routes[route.state.index]?.name;

    switch (routeName) {
        case 'None':
            return 'How to get started';
        case 'Links':
            return 'Links to learn more';
        default:
            return 'Accounts';
    }
}
